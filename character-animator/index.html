<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Character Animator</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
<div id="scene" class="container">
  <div id="player" class="animate"></div>
  <div id="enemyRanged"></div>
</div>

<script src="js/greensock-js/src/minified/TweenMax.min.js"></script>
<script src="js/mousetrap.min.js"></script>

<script>

var player = document.getElementById('player');
var enemyRanged = document.getElementById('enemyRanged');
var scene = document.getElementById('scene');
var rotateValue;

function rotatePlayer() {
	TweenMax.to(player,.2 , {rotation: rotateValue});
}

function swingSword() {
	TweenMax.fromTo(player, .25, {backgroundPosition:"0 0"}, {backgroundPosition:"0 -1600px", ease:SteppedEase.config(4), onComplete:resetPosition});
	TweenMax.to(scene, .5, {scale:1.1});
}

function shootGun() {
	TweenMax.fromTo(player, .25, {backgroundPosition:"-256px 0"}, {backgroundPosition:"-256px -1200px", ease:SteppedEase.config(3)});
	TweenMax.to(scene, .5, {scale:.75});
}

function resetPosition() {
	TweenMax.set(player, {backgroundPosition:"0 0", delay:.25});
	TweenMax.to(scene, .5,  {scale:1});
}

function rangedEnemyWalk() {
	TweenMax.fromTo(enemyRanged, .5, {backgroundPosition:"0 0"}, {backgroundPosition:"-1792px 0", repeat:-1, ease:SteppedEase.config(7)});
	TweenMax.fromTo(enemyRanged, 7, {left:"100%"}, {left:"-15%", repeat:-1, ease:Power0.easeNone});
}
rangedEnemyWalk();

Mousetrap.bind('a', function() {
	swingSword();
});
Mousetrap.bind('s', function() {
	shootGun();
});
Mousetrap.bind('right', function() {
	window.rotateValue = 90;
	rotatePlayer();
});
Mousetrap.bind('left', function() {
	window.rotateValue = 270;
	rotatePlayer();
});
Mousetrap.bind('up', function() {
	window.rotateValue = 0;
	rotatePlayer();
});
Mousetrap.bind('down', function() {
	window.rotateValue = 180;
	rotatePlayer();
});


</script>

</body>
</html>
