<!doctype html>
<html lang="en" class="desktop">
<head>
	<meta charset="UTF-8">
	<title>Discover Miles</title>
	
	<meta name="viewport" content="initial-scale=1, user-scalable=no">
	<link rel="stylesheet" href="css/normalize.css">
	<link rel="stylesheet" href="css/style-2.css">
	<script src="js/modernizr-2.6.2.min.js"></script>
</head>

<body>

	<div id="container" class="blue">
	
		<nav class="main-nav">
			<h1 class="logo">Discover</h1>
			<div class="search-link">
				<h2>
					<span class="icon">&#128269;</span>
				</h2>
			</div>
			<div class="links">
				<div class="card">
					<h2>Credit Cards</h2>
				</div>
				<div class="banking-link">
					<h2>Bank</h2>
				</div>
				<div class="loans-link">
					<h2>Loans</h2>
				</div>
				<div class="login-link">
					<h2>Account</h2>
				</div>
			</div>
		</nav>
		
		<div id="main-content" class="miles">
			<section id="hero" class="hero">
				<div class="background">
					<video id="vid-1" class="bg-video" autoplay loop>
						<source src="video/clouds-large.mp4" type="video/mp4">
					</video>
					<div class="animated">
						<h3 class="anim-1">1.5x Unlimited Miles</h3>
						<h3 class="anim-2">No Blackout Dates</h3>
						<h3 class="anim-3">In-Flight WiFi Credit</h3>
					</div>
				</div>
				<div class="headline">
					<h2><span>Introducing</span>Discover it Miles</h2>
				</div>
				<div class="cards slider clear">
					<ul class="slider-list container clear">
						<li class="pink-card slider-item">
							<img src="images/miles-it-card-pink-2.png" />
						</li>
						<li class="green-card slider-item slider-item-hide-previous">
							<img src="images/miles-it-card-green-2.png" />
						</li>
						<li class="blue-card slider-item slider-item-current">
							<img src="images/miles-it-card-blue-2.png" />
						</li>
					</ul>
					<button class="slider-btn slider-btn-previous">Previous</button>
					 <button class="slider-btn slider-btn-next" disabled="disabled">Next</button>
				</div>
				<div class="sub-head">
<!--					<h3>Miles beyond miles.</h3>-->
					<div class="container">
						<a class="button orange-button large-button" href="#0">apply now</a>
					</div>
				</div>
			</section>
			<section id="benefits" class="benefits">
				<div class="benefit">
					<h3><span>1.5x Unlimited&nbsp;</span>Miles.</h3>
					<p>Earn unlimited 1.5x miles for every $1 you spend.</p>
				</div>
				<div class="benefit">
					<h3><span>Double Miles&nbsp;</span>Your First Year.</h3>
					<p>Now, we'll double the miles you've earned during your first year.</p>
				</div>
				<div class="benefit">
					<h3><span>No Blackout Dates.&nbsp;</span>
						No Restrictions.
					</h3>
					<p>Redeem miles in any amount toward travel purchases on your statement.</p>
				</div>
				<div class="benefit">
					<h3><span>In-flight Wi-Fi&nbsp;</span>on us.</h3>
					<p>We'll give you a $30 credit to use towards in-flight Wi-Fi access, each year.</p>
				</div>
<!--				<h4>All with no Annual Fee.</h4>-->
			</section>
			<section id="sub-content" class="sub-content">
				<section class="security">
					<div class="animation">
						<div class="luggage">
							<img class="pink-bag" src="images/luggage-pink.jpg" />
							<img class="briefcase" src="images/briefcase.jpg" />
							<img class="box" src="images/box.jpg" />
							<img class="duffle" src="images/duffle.jpg" />
							<img class="gray-bag" src="images/luggage-gray.jpg" />
						</div>
						<div class="scanner">
							<div class="screen">
								<img class="bad" src="images/screen-bad.jpg" />
								<img class="good" src="images/screen-good.jpg" />
							</div>
						</div>
					</div>
					<div class="copy">
						<h3>Security</h3>
						<p>You're never responsible for unauthorized purchases on your Discover card. We monitor every purchase, every day and alert you of unusual activity by e-mail, phone or text. We'll replace your lost, stolen or damaged card overnight &ndash; for free &ndash; anywhere you are, even on vacation.</p>
					</div>
					
				</section>
				<section class="service">
					<div class="animation">
						<div class="window">
							<div class="sky">
								<div class="day day-2"></div>
								<div class="night"></div>
								<div class="day day-1"></div>
							</div>
							<div class="sun-moon">
								<img class="sun" src="images/sun.png" />
								<img class="moon" src="images/moon.png" />
							</div>
							<div class="clouds">
								<div class="cloud-layer-3"></div>
								<div class="cloud-layer-2"></div>
								<div class="cloud-layer-1"></div>
							</div>
							<img class="shutter" src="images/window-shutter.jpg" />
							<img class="window-main" src="images/window-main.png" />
						</div>
					</div>
					<div class="copy">
						<h3>Service Anytime</h3>
						<p>On-call, online and on-the-go. You can reach a real person here in the U.S. any time you call your dedicated service line, day or night. Plus, our powerful mobile and online tools make managing your account fast and easy.</p>
					</div>
				</section>
				<section class="fico">
					<div class="animation">
						<div class="fico-guage">
							<div class="color"></div>
							<img class="guage" src="images/guage.png" />
							<div class="center">
								<img class="needle" src="images/needle.png" />
								<div class="pin"></div>
							</div>
						</div>
					</div>
					<div class="copy">
						<h3>Free FICO<sup>&reg;</sup> Score</h3>
						<p>On your monthly statement, or anytime online and mobile. We think you should see what lenders might see when they're making a credit decision about you. Knowing your FICOÂ® Credit Score for free will help you stay on top of your credit and avoid surprises.</p>
					</div>
				</section>
			</section>
			<section id="chart" class="chart">
				<h3>All With No Annual Fee.</h3>
				<img src="images/chart.jpg" />
			</section>
		</div>

	</div>
	
	<script src="js/jquery-1.11.1.min.js"></script>
	<script src="js/TweenMax.min.js"></script>
	<script src="js/ScrollToPlugin.min.js"></script>
	<script src="js/TextPlugin.min.js"></script>
	<script src="js/WallopSlider.js"></script>
	
	<script>
		
	jQuery(function($) {
	
//		SET DEFAULT EASE TO LINEAR
		
		TweenLite.defaultEase = Power0.easeOut;
		
//		HERO TEXT ANIMATION
		
		var milesTL = new TimelineLite({paused:true, delay:.5, onComplete:repeatMilesTL});
		
			milesTL.fromTo($('.anim-1'), 10, {scale:0, left:"-5rem"}, {scale:1.25, left:"-25rem"})
				   .fromTo($('.anim-1'), 5, {autoAlpha:0}, {autoAlpha:.4}, 0)
				   .to($('.anim-1'), 5, {autoAlpha:0}, 5)
				   .fromTo($('.anim-2'), 10, {scale:0, left:"5rem"}, {scale:1.25, left:"25rem"}, 4)
				   .fromTo($('.anim-2'), 5, {autoAlpha:0}, {autoAlpha:.4}, 4)
				   .to($('.anim-2'), 5, {autoAlpha:0}, 9)
				   .fromTo($('.anim-3'), 10, {scale:0, left:"-5rem"}, {scale:1.25, left:"-25rem"}, 8)
				   .fromTo($('.anim-3'), 5, {autoAlpha:0}, {autoAlpha:.4}, 8)
				   .to($('.anim-3'), 5, {autoAlpha:0}, 13)
			;
		
		milesTL.play().timeScale(1.5);
		
		function repeatMilesTL() {
			milesTL.restart();
		}
		
//		SECURITY ANIMATION
		
		var securityTL = new TimelineLite({onComplete:repeatSecurityTL, paused:true});
		
		securityTL.staggerTo($('.luggage > img'), 15, {left:"1600px"}, 2)
				  .to($('.good'), .1, {display:"block"}, 6)
				  .to($('.good'), .1, {display:"none"}, 7)
				  .to($('.good'), .1, {display:"block"}, 8)
				  .to($('.good'), .1, {display:"none"}, 9)
				  .to($('.bad'), .1, {display:"block"}, 10)
				  .to($('.bad'), .1, {display:"none"}, 11)
				  .to($('.good'), .1, {display:"block"}, 12)
				  .to($('.good'), .1, {display:"none"}, 13)
				  .to($('.good'), .1, {display:"block"}, 14)
				  .to($('.good'), .1, {display:"none"}, 15)
				  ;
		
		securityTL.play().timeScale(1);
		
		function repeatSecurityTL() {
			securityTL.restart();
		}
		
//		SERVICE ANIMATION
		
		var serviceTL = new TimelineLite({onComplete:repeatServiceTL, paused:true});
		
		TweenMax.to($('.shutter'), 1.5, {top:"-19rem", delay:0})
		
		serviceTL.to($('.cloud-layer-1'), 50, {backgroundPosition:"200rem"})
				 .to($('.cloud-layer-2'), 50, {backgroundPosition:"100rem"}, 0)
				 .to($('.cloud-layer-3'), 50, {backgroundPosition:"50rem"}, 0)
				 .to($('.sun'), 15, {top:"+=500px", autoAlpha:.25, scale:.75}, 5)
				 .to($('.day-1'), 20, {autoAlpha:0}, 5)
				 .to($('.night'), 20, {autoAlpha:0}, 30)
				 .to($('.moon'), 15, {top:"+=500px", autoAlpha:.25, scale:.75}, 30)
				  ;
		
		serviceTL.play().timeScale(2);
		
		function repeatServiceTL() {
			serviceTL.restart();
		}
		
		function pauseServiceTL() {
			serviceTL.pause();
		}
		
		$(document).on('touchend, click', '.window', function(){
			
			if(!$(this).hasClass('shut')){
				$(this).addClass('shut');
				TweenMax.to($('.shutter'), .75, {top:"0rem", ease:Power2.easeOut,onComplete:pauseServiceTL})
			}
			else {
				$(this).removeClass('shut');
				TweenMax.to($('.shutter'), .75, {top:"-19rem", ease:Power2.easeOut})
				serviceTL.play();
			}
									
		});
		
		
//		FICO ANIMATION
		
		var ficoTL = new TimelineLite({paused:true});
		
		ficoTL.to($('.needle'), 3, {rotation:320, transformOrigin:"center center", ease:Elastic.easeOut.config(0, .8)})
		;
		
		$(document).on('touchend, click', '.fico-guage', function(){
			ficoTL.play().timeScale(1).restart();
		});
		
//		CARD SLIDER FUNCTIONS
		
		var cardSlider = new WallopSlider('.slider', {
			wSBtnPreviousClass: 'slider-btn-previous',
			wSBtnNextClass: 'slider-btn-next',
			wSItemClass: 'slider-item',
			wSCurrentItemClass: 'slider-item-current',
			wSShowPreviousClass: 'slider-item-show-previous',
			wSShowNextClass: 'slider-item-show-next',
			wSHidePreviousClass: 'slider-item-hide-previous',
			wSHideNextClass: 'slider-item-hide-next',
			wsCarousel: true,
		});
		
		$(document).on('touchend, click', '.slider-item', function(){		
			
			if (!$(this).hasClass('slider-item-current')) {
				var cardIndex = $(this).index() + 1;
				
				console.log(cardIndex);
				
				cardSlider.goTo(cardIndex);
				
				if($(this).hasClass('pink-card')) {
					$('#container').removeClass().addClass('pink');
				}
				if($(this).hasClass('blue-card')) {
					$('#container').removeClass().addClass('blue');
				}
				if($(this).hasClass('green-card')) {
					$('#container').removeClass().addClass('green');
				}
								
			}
			
		});
	    
	});
    
	</script>

</body>
</html>
