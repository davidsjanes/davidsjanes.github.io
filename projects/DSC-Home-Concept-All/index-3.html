<!DOCTYPE html>
<!--[if lt IE 7]>      
<html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         
<html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         
<html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Discover</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/style-3.css">
    <script src="js/modernizr-2.6.2.min.js"></script>
</head>

<body>

<div id="page" class="homepage">
	<nav>
		<div class="main-nav">
			<div class="flex clear">
				<h1 class="logo">Discover</h1>
				<div class="links">
					<div class="card">
						<h2>Credit Cards</h2>
					</div>
					<div class="banking">
						<h2>Banking</h2>
					</div>
					<div class="loans">
						<h2>Loans</h2>
					</div>
					<div class="login">
						<h2>
<!--							<span class="icon">&#128274;</span>-->
							Account
						</h2>
					</div>
				</div>
				
				<input type="text" class="search" placeholder="Search" />
				<a class="icon search-icon" href="#">&#128269;</a>
				<div class="menu">
					<h2>Menu</h2>
				</div>
			</div>
		</div>
	</nav>
	<section id="hero" class="hero">
		<div class="content">
			<div class="media content-1 active">
				<video id="vid-1" class="content-1-vid display" autoplay loop>
					<source src="video/coffeeshop-it-card-2.mp4" type="video/mp4">
				</video>
				<div class="copy">
					<div class="headline">
						<div class="flex clear">
							<h3>Discover <span>it</span> Card</h3>
							<p>Rewards that just keep adding up.</p>
							<a href="#" class="cta">Sign Up Now</a>
						</div>
					</div>
				</div>
			</div>
			<div class="media content-2">
				<div class="image display"></div>
				<div class="copy">
					<div class="headline">
						<div class="flex clear">
							<h3>Cashback Checking</h3>
							<p>Free checking reinvented with <em>Cashback</em> bonuses.</p>
							<a href="#" class="cta">Sign Up Now</a>
						</div>
					</div>
				</div>
			</div>
			<div class="media content-3">
				<video id="vid-3" class="content-1-vid display" autoplay loop>
					<source src="video/bank-vid.mp4" type="video/mp4">
				</video>
				<div class="copy">
					<div class="headline">
						<div class="flex clear">
							<h3>Discover Banking</h3>
							<p>Bank with ease anytime, anywhere.</p>
							<a href="#" class="cta">Learn More</a>
						</div>
					</div>
				</div>
			</div>
			<div class="media content-4">
				<div class="image display"></div>
				<div class="copy">
					<div class="headline">
						<div class="flex clear">
							<h3>Student Loans</h3>
							<p>Not all student loans are created equal.</p>
							<a href="#" class="cta">Learn More</a>
						</div>
					</div>
				</div>
			</div>
			<div class="media content-5">
				<div class="image display"></div>
				<div class="copy">
					<div class="headline">
						<div class="flex clear">
							<h3>Discover Deals</h3>
							<p>Earn up to 15% <em>Cashback</em> on popular retailers.</p>
							<a href="#" class="cta">Start Shopping</a>
						</div>
					</div>
				</div>
			</div>
			<div class="media content-6">
				<div class="image display"></div>
				<img class="puck animated" src="images/puck-2.png" />
				<div class="copy">
					<div class="headline">
						<div class="flex clear">
							<h3>Card Freeze</h3>
							<p>Freeze your card at any time to avoid fraudulant spending.</p>
							<a href="#" class="cta">Learn More</a>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="hero-links">
			<div class="indicator"></div>
			<div>
				<a class="card content-1 active" href="#">Credit Cards</a>
				<a class="checking content-2" href="#">Checking</a>
				<a class="banking content-3" href="#">Banking</a>
				<a class="loans content-4" href="#">Student Loans</a>
				<a class="deals content-5" href="#">Discover Deals</a>
				<a class="feature content-6" href="#">Card Freeze</a>
			</div>
		</div>
	</section>
	<section id="sub-content" class="sub-content">
		<div class="flex clear">
			<div class="sub-content-1">
				<img src="images/sub-content-1-3.jpg" />
				<div class="copy">
					<h3>5<sup>%</sup> Cashback Bonus</h3>
					<p>At Gas Stations on up to $1,500 in purchases, through September 2014.*</p>
					<a class="cta-link" href="#">Sign Up Now</a>
				</div>
			</div>
			<div class="sub-content-2">
				<img src="images/sub-content-2-3.jpg" />
				<div class="copy">
					<h3>Cashback Checking</h3>
					<p>Get $50 when you apply for and open a FREE checking account by 10/31/14.</p>
					<a class="cta-link" href="#">Apply Now</a>
				</div>
			</div>
			<div class="sub-content-3">
				<img src="images/sub-content-3-3.jpg" />
				<div class="copy">
					<h3>Simple Home Loans</h3>
					<p>Get financing without the fuss. A home loan with Discover is clear and simple.</p>
					<a class="cta-link" href="#">Learn More</a>
				</div>
			</div>
		</div>
	</section>
	<section id="shop" class="shop">
		<div class="flex clear">
			<h3>Shop Discover Deals</h3>
			<div class="retailers">
				<img src="images/deals-list.png" />
			</div>
		</div>
	</section>
	
	<section id="footer" class="footer">
		<img src="images/footer.jpg" />
	</section>
	
	<section class="nav-overlays">
		<div class="card">
			<div class="feature">
				<div class="header">
					<video id="vid-2" class="card-2-vid" autoplay loop>
						<source src="video/card-vid-3.mp4" type="video/mp4">
					</video>
				</div>
				
				<div class="content">
					<h3>Discover It Card</h3>
					<div class="copy">
						<img class="it-card" src="images/it-card-blue.jpg" />
						<ul>
							<li>You're never responsible for unauthorized purchases</li>
							<li>Service on-call and online</li>
							<li>Free FICO<sup>&reg;</sup> Credit Score</li>
							<li>"Highest in Customer Satisfaction with Credit Card Companies in a Tie"<sup>&dagger;</sup></li>
							<a class="cta">Learn More</a>
						</ul>
					</div>
<!--					<div class="rating">
						<img class="rating" src="images/ratingLarge.png" />
						<p class="rating">4.8 out of 5
						</p>
					</div>-->
					
				</div>
			</div>
			<div class="secondary">
				<div class="secondary-1">
					<div class="image">
						<img src="images/card-art-skyline.png" />
					</div>
				
					<h3>Discover It for Students</h3>
					<div class="copy">
						<p>Live. Learn. Earn. Get the card for college and beyond.</p>
						<a class="cta-link">Learn More</a>
					</div>
				</div>
				<div class="secondary-2">
					<div class="image"></div>
<!--					<img src="images/sub-content-1.jpg" />-->
					<h3>5% Cashback Bonus</h3>
					<div class="copy">
						<p>Discover Cardmembers signed up to get 5% Cashback Bonus at Gas Stations on up to $1,500 in purchases from July through September 2014.*</p>
						<a class="cta-link">Sign Up Now</a>
					</div>
				</div>
			</div>
			<div class="tertiary">
				<div>
					<h4>Discover Deals</h4>
					<p>Shop, save and earn rewards with popular brands.</p>
					<a class="cta-link">Shop Now</a>
				</div>
				<div>
					<h4>Card Benefits</h4>
					<p>Discover give you protection on top of the rewards you earn with every purchase.</p>
					<a class="cta-link">Get the Rundown</a>
				</div>
				<div>
					<h4>Balance Transfer</h4>
					<p>Balance Transfers are easy and can save you money.</p>
					<a class="cta-link">Learn More</a>
				</div>
			</div>
		</div>
		<div class="banking"></div>
		<div class="loans"></div>
		<div class="login">
			<!--<div class="login-box">
				<h3>Login to your account</h3>
				<input class="username" type="text" placeholder="Username" />
				<input class="password" type="text" placeholder="Password" />
				<select class="account-picker">
					<option value="discovercard">Discover Card</option>
					<option value="banking">Banking</option>
					<option value="homeloans">Home Loans</option>
					<option value="studentloans">Student Loans</option>
					<option value="personalloans">Personal Loans</option>
				</select>
				<span class="select icon">&#59228;</span>
				<a class="cta">Log In Securely</a>
				<div class="remember">
					<a><span class="icon">&#10003;</span>Remember My Username</a>
				</div>
			</div>-->
<!--			<ul>
				<li><a href="#">Forgot Username?</a></li>
				<li><a href="#">Forgot Password?</a></li>
				<li><a href="#">Activate Credit Card</a></li>
				<li><a href="#">Register Account</a></li>
			</ul>-->
		</div>
	</section>
	
</div>            

<script src="js/jquery-1.11.1.min.js"></script>
<script src="js/TweenMax.min.js"></script>
<script src="js/ScrollToPlugin.min.js"></script>
<script src="js/TextPlugin.min.js"></script>
<script src="js/enquire.min.js"></script>

<script>
	$(document).ready(function() {
		
//		Cache Variables
		
		var search = $(".search"),
			menu = $(".menu")
			;
		
		//		Close the Menu - Global Function
				
				function closeMenu() {
					if (menu.hasClass('active')) {
						TweenMax.fromTo($('.links'), .5, {autoAlpha:1, display:"block"}, {autoAlpha:0, display:"none", onComplete:menuRemoveActive});
					}
				}
				
		//		Remove Menu Class - Global Function
				
				function menuRemoveActive() {
					menu.removeClass('active');
				}
				
		//		Show Links - Global Function
		
				function showLinks() {
					TweenMax.to($('.links'), .5, {autoAlpha:1, display:"block"});
				}
				
//		Media Query help

		enquire.register("(max-width : 640px)", {
		    match : function() {
		        $('body').addClass('mobile');
		        TweenMax.to($('.links'), 0, {autoAlpha:0, display:"none", onComplete:menuRemoveActive});
		    },  
		    unmatch : function() {
		        $('body').removeClass('mobile');
		        TweenMax.to($('.links'), 0, {autoAlpha:1, display:"block"});
		    }
		});
		
//		Control the Videos
		
		var vid1 = document.getElementById('vid-1');
		var vid2 = document.getElementById('vid-2');
		var vid3 = document.getElementById('vid-3');
		
		vid2.pause(); // pause video
		$(vid2).prop('muted',true); // mute video
		
		$("#vid-2").click(function() {
			$(vid2).prop('muted',false);
			vid2.play();
		});
		
//		Activate current marquee
		
//		$(".hero-links > div a").click(function() {
//			$(this).addClass('active').siblings().removeClass('active');
//			vid1.pause();
//		});
		
//		Marquee functions - Hacky code for now
		
//		$(".hero-links .content-1").click(function() {
//				
//			$('.media.content-1').addClass('active').siblings().removeClass('active');
//			TweenMax.to($('.headline h3'), .5, {text:"Discover <span>it</span> Card", ease:Linear.easeNone});
//			TweenMax.to($('.headline p'), .5, {text:"Rewards that just keep adding up.", ease:Linear.easeNone});
//			TweenMax.to($('.headline a'), .5, {text:"Apply Now", ease:Linear.easeNone});
//			TweenMax.to($('.headline'), .5, {backgroundColor:"rgba(40,90,120, .8)"});
//			vid1.play();
//		});
//		$(".hero-links .content-2").click(function() {
//				
//			$('.media.content-2').addClass('active').siblings().removeClass('active');
//			TweenMax.to($('.headline h3'), .5, {text:"Cashback Checking", ease:Linear.easeNone});
//			TweenMax.to($('.headline p'), .5, {text:"Free checking reinvented with <em>Cashback</em> bonuses.", ease:Linear.easeNone});
//			TweenMax.to($('.headline a'), .5, {text:"Sign Up Now", ease:Linear.easeNone});
//			TweenMax.to($('.headline'), .5, {backgroundColor:"rgba(154,61,6, .8)"});
//		});
//		$(".hero-links .content-3").click(function() {
//				
//			$('.media.content-3').addClass('active').siblings().removeClass('active');
//			TweenMax.to($('.headline h3'), .5, {text:"Discover Banking", ease:Linear.easeNone});
//			TweenMax.to($('.headline p'), .5, {text:"Bank with ease anytime, anywhere.", ease:Linear.easeNone});
//			TweenMax.to($('.headline a'), .5, {text:"Learn More", ease:Linear.easeNone});
//			TweenMax.to($('.headline'), .5, {backgroundColor:"rgba(65,175,160, .8)"});
//		});
//		$(".hero-links .content-4").click(function() {
//				
//			$('.media.content-4').addClass('active').siblings().removeClass('active');
//			TweenMax.to($('.headline h3'), .5, {text:"Student Loans", ease:Linear.easeNone});
//			TweenMax.to($('.headline p'), .5, {text:"Not all student loans are created equal.", ease:Linear.easeNone});
//			TweenMax.to($('.headline a'), .5, {text:"Learn More", ease:Linear.easeNone});
//			TweenMax.to($('.headline'), .5, {backgroundColor:"rgba(5,24,34, .8)"});
//		});
//		$(".hero-links .content-5").click(function() {
//				
//			$('.media.content-5').addClass('active').siblings().removeClass('active');
//			TweenMax.to($('.headline h3'), .5, {text:"Discover Deals", ease:Linear.easeNone});
//			TweenMax.to($('.headline p'), .5, {text:"Earn up to 15% <em>Cashback</em> on popular retailers.", ease:Linear.easeNone});
//			TweenMax.to($('.headline a'), .5, {text:"Start Shopping", ease:Linear.easeNone});
//			TweenMax.to($('.headline'), .5, {backgroundColor:"rgba(171,36,49, .8)"});
//		});
//		$(".hero-links .content-6").click(function() {
//			
//			$('.media.content-6').addClass('active').siblings().removeClass('active');
//			TweenMax.to($('.headline h3'), .5, {text:"Card Freeze", ease:Linear.easeNone});
//			TweenMax.to($('.headline p'), .5, {text:"Freeze your card at any time to avoid fraudulant spending.", ease:Linear.easeNone});
//			TweenMax.to($('.headline a'), .5, {text:"Learn More", ease:Linear.easeNone});
//			TweenMax.to($('.headline'), .5, {backgroundColor:"rgba(71,92,104, .8)"});
//			
//			TweenMax.fromTo($('.media.content-6'), 3, {backgroundPosition:'bottom'}, {backgroundPosition:'top'});
//			TweenMax.fromTo($('.media.content-6 .puck'), 3.5, {top:"35rem", rotation:"0"}, {top:"-35rem", rotation:"360_cw", delay:1.5, ease:Power1.easeOut});
//			
//		});

//		Animate and Toggle through Hero Sections
				
		$(document).on('touchend, click', '.hero-links a', function(){
			var index = $(this).index();
			var heroSlide = $('.hero .content').children(':eq(' + index + ')');
			
			CSSPlugin.defaultTransformPerspective = 200;
			
			function heroSlideOut() {
				TweenMax.to($('.hero .media.active .copy'), .35, {bottom:"-10rem", ease:Power0.easeNone, onComplete:addClass});
//				TweenMax.to($('.hero .media.active .display'), .35, {autoAlpha:0, ease:Power0.easeNone});
			}
			function heroSlideIn() {
				TweenMax.fromTo($('.hero .media.active .copy'), .35, {bottom:"-10rem"}, {bottom:"0",ease:Power0.easeNone});
				TweenMax.fromTo($('.hero .media.active .display'), .35, {autoAlpha:0}, {autoAlpha:1, ease:Power0.easeNone});
			}
			
			if (!$(this).hasClass('active')) {
				$(this).addClass('active').siblings().removeClass('active');
				heroSlideOut();
			}
			function addClass(){
				heroSlide.addClass('active').siblings().removeClass('active');
				
//				heroSlide.next().addClass('next').siblings().removeClass('next');
//				heroSlide.prev().addClass('prev').siblings().removeClass('prev');
				
				heroSlideIn();
			}
			
			if ($(this).hasClass('content-6')) {
				TweenMax.fromTo($('.media.content-6 .image'), 3, {backgroundPosition:'bottom'}, {backgroundPosition:'top'});
				TweenMax.fromTo($('.media.content-6 .puck'), 3.5, {top:"35rem", rotation:"0"}, {top:"-35rem", rotation:"360_cw", delay:1.5, ease:Power1.easeOut});
			}
			
			if ($(this).hasClass('content-1')) {
				vid1.play();
			}
			else {
				vid1.pause();
			}
			if ($(this).hasClass('content-3')) {
				vid3.play();
			}
			else {
				vid3.pause();
			}
						
		});
		
//		Animate and Toggle through the Overlays
		
		$(document).on('touchend, click', '.links > div', function(){
			var index = $(this).index();
			var overlay = $('.nav-overlays').children(':eq(' + index + ')');
			
			$('body').addClass('scroll');
			
			CSSPlugin.defaultTransformPerspective = 200;
			
			function overlayOut() {
				TweenMax.to($('.nav-overlays > div.active'), .35, {autoAlpha:0, scale:.9, top:"0", onComplete:addClass});
			}
			function overlayIn() {
				TweenMax.fromTo($('.nav-overlays > div.active'), .35, {autoAlpha:0, top:"0", scale:1.25, transformOrigin:"center center"}, {autoAlpha:1, top:"0", scale:1, ease:Power0.easeNone});
			}
			
			if (!$(this).hasClass('active')) {
				$(this).addClass('active').siblings('.active').removeClass('active');
				overlayOut();
			}
			function addClass(){
				overlay.addClass('active').siblings('.active').removeClass('active');
				overlayIn();
			}
			
			if (index === 0) {
				vid2.play();
			}
			else {
				vid2.pause();
			}
			
			closeMenu();
						
			$('.nav-overlays').addClass('active');
						
		});
		
//		Remove all overlays and menus on Logo click
		
		$(document).on('touchend, click', '.main-nav .logo', function(){
			
			overlayOut();
				
			closeMenu();
							
			function overlayOut() {
				TweenMax.to($('.nav-overlays > div.active'), .35, {autoAlpha:0, onComplete:removeClass});
			}
			
			function removeClass() {
				$('.nav-overlays, .nav-overlays > div, .links > div').removeClass('active');
			}
			
			$('body').removeClass('scroll');
						
		});
		
//		Mobile Functionality
		
//		Toggle search field
		
	 	$(document).on('touchend, click', '.search-icon', function(){
			search.toggleClass('active');
		});
		
//		Animate mobile menu overlay
		
		$(document).on('touchend, click', '.menu', function(){		
			
			if (!$(this).hasClass('active')) {
				TweenMax.fromTo($('.links'), .5, {autoAlpha:0, display:"none"}, {autoAlpha:1, display:"block"});
				TweenMax.staggerFromTo($('.links > div'), .5, {top:"+=200px"}, {top:"-=200px"}, .1);
			}
			
			$(this).addClass('active');
			
		});
		
		$(document).on('touchend, click', '.menu.active', function(){
			closeMenu();
		});
		
		
	});
</script>

</body>
</html>
