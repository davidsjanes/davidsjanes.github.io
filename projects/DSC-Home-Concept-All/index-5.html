<!doctype html>
<html lang="en" class="desktop">
<head>
	<meta charset="UTF-8">
	<title>Discover</title>
	
	<meta name="viewport" content="initial-scale=1, user-scalable=no">
	<link rel="stylesheet" href="css/normalize.css">
	<link rel="stylesheet" href="css/style-5.css">
	<script src="js/modernizr-2.6.2.min.js"></script>
</head>

<body>

	<div id="container" class="container">

		<nav class="main-nav">
			<h1 class="logo">Discover</h1>
			<div class="search-link">
				<h2>
					<span class="icon">&#128269;</span>
				</h2>
			</div>
			<div class="menu-link">
				<h2>Menu</h2>
			</div>
			
			<div class="links">
				<div class="card">
					<h2>Credit Cards</h2>
				</div>
				<div class="banking-link">
					<h2>Bank</h2>
				</div>
				<div class="loans-link">
					<h2>Loans</h2>
				</div>
				<div class="login-link">
					<h2>Account</h2>
				</div>
			</div>
			
		</nav>
		
		<div class="nav-overlays">
			<div class="overlay overlay-1">
				<div class="main-list">
					<div class="main main-1 blue">
						<div class="wrapper">
							<video id="vid-2" autoplay loop>
								<source src="video/card-vid-3.mp4" type="video/mp4">
							</video>
							<div class="overlay"></div>
							<div class="content">
								<div class="image">
									<img src="images/new/it-card-small.png" />
								</div>
								<div class="headline">
									<h3>it Card</h3>
									<p>With fraud protection, free FICO score, and top rated customer service, we treat you like you’d treat you.</p>
									<a href="#0" class="cta">Apply Now<span class="icon">&#59234;</span></a>
								</div>
							</div>
						</div>
					</div>
					<div class="main main-2 white">
						<div class="wrapper">
							<div class="overlay"></div>
							<div class="content">
								<div class="image">
									<img src="images/new/miles-card-small.png" />
								</div>
								<div class="headline">
									<h3>it Miles Card</h3>
									<p>1.5 miles for ever dollar spent and lorem ipsum sit dolor amet, it’s miles beyond miles.</p>
									<a href="#0" class="cta">Apply Now<span class="icon">&#59234;</span></a>
								</div>
							</div>
						</div>
					</div>
					<div class="main main-3 white">
						<div class="wrapper">
							<div class="overlay"></div>
							<div class="content">
								<div class="image">
									<img src="images/card-art-beach.png" />
								</div>
								<div class="headline">
									<h3>it Student Card</h3>
									<p>With fraud protection, free FICO score, and top rated customer service, we treat you like you’d treat you.</p>
									<a href="#0" class="cta">Apply Now<span class="icon">&#59234;</span></a>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="secondary-list">
					<div class="secondary secondary-1">
						<a href="#0">Cashback Bonus</a>
					</div>
					<div class="secondary secondary-2">
						<a href="#0">Discover Deals</a>
					</div>
					<div class="secondary secondary-3">
						<a href="#0">Card Benefits</a>
					</div>
					<div class="secondary secondary-4">
						<a href="#0">Balance Transfer</a>
					</div>
				</div>
			</div>
			<div class="overlay overlay-2"></div>
			<div class="overlay overlay-3"></div>
			<div class="overlay overlay-4"></div>
		</div>

		<div id="slider" class="slider slider-custom">
			<a href="#0" class="login-button cta"><span class="icon">&#128274;</span>Secure Login</a>
			<a href="#0" class="login-button-cancel cta"><span class="icon">&#10006;</span>Cancel Login</a>
			<ul class="slider-list">
				<li class="slider-item slider-item-1 slider-item-current">
					<div class="background gray">
						<div class="background-color"></div>
						<div class="background-media">
							<video id="vid-1" class="content-1-vid display" autoplay loop>
								<source src="video/confetti.mp4" type="video/mp4">
							</video>
						</div>
						<div class="background-overlay"></div>
					</div>
					<div class="headline">
						<h3>A big thank you</h3>
						<p>“Highest in Customer Satisfaction with Credit Card Companies in a tie”.</p>
						<a class="cta">Award Info<span class="icon">&#10133;</span></a>
					</div>
					<div class="image">
						<img src="images/new/jdpower-award.png" />
					</div>
				</li>
			    <li class="slider-item slider-item-2">
			    	<div class="background orange">
			    		<div class="background-color"></div>
			    		<div class="background-media">
			    			<video id="vid-1" class="content-1-vid display" autoplay loop>
			    				<source src="video/coffeeshop-it-card-5.mp4" type="video/mp4">
			    			</video>
			    		</div>
			    		<div class="background-overlay"></div>
			    	</div>
			    	<div class="headline">
			    		<h3>Discover it Card</h3>
			    		<p>With fraud protection, free FICO score, and top rated customer service, we treat you like you’d treat you.</p>
			    		<a class="cta">See All Cards<span class="icon">&#59234;</span></a>
			    	</div>
			    	<div class="image">
			    		<img src="images/new/it-card-left-blue-2.png" />
			    	</div>
			    </li>
			    <li class="slider-item slider-item-3">
			    	<div class="background blue">
			    		<div class="background-color"></div>
			    		<div class="background-media"></div>
			    		<div class="background-overlay"></div>
			    	</div>
			    	<div class="headline">
			    		<h3>Cashback Checking</h3>
			    		<p>Checking reinvented with <em>Cashback</em> Rewards.</p>
			    		<a class="cta">Learn More<span class="icon">&#59234;</span></a>
			    	</div>
			    	<div class="image">
			    		<img src="images/new/checking-lockup.png" />
			    	</div>
			    </li>
			    <li class="slider-item slider-item-4">
			    	<div class="background plum">
			    		<div class="background-color"></div>
			    		<div class="background-media"></div>
			    		<div class="background-overlay"></div>
			    	</div>
			    	<div class="headline">
			    		<h3>Student Loans</h3>
			    		<p>Not all student loans are created equal.</p>
			    		<a class="cta">See All Loans<span class="icon">&#59234;</span></a>
			    	</div>
			    </li>
			    <li class="slider-item slider-item-5">
			    	<div class="background green">
			    		<div class="background-color"></div>
			    		<div class="background-media"></div>
			    		<div class="background-overlay"></div>
			    	</div>
			    	<div class="headline">
			    		<h3>Discover Deals</h3>
			    		<p>Get up to 15% off popular retailers</p>
			    		<a class="cta">Start Shopping<span class="icon">&#59234;</span></a>
			    	</div>
			    </li>
			</ul>
			<button class="slider-btn slider-btn-previous btn btn-previous" disabled="disabled">
				<span class="icon">&#59233;</span>
			</button>
			<button class="slider-btn slider-btn-next btn btn-next">
				<span class="icon">&#59234;</span>
			</button>
			<ul class="slider-nav">
				<li class="slider-link slider-link-1 active">
					<h3>What's New</h3>
				</li>
				<li class="slider-link slider-link-2">
					<h3>Credit Cards</h3>
				</li>
				<li class="slider-link slider-link-3">
					<h3>Bank</h3>
				</li>
				<li class="slider-link slider-link-4">
					<h3>Loans</h3>
				</li>
				<li class="slider-link slider-link-5">
					<h3>Rewards</h3>
				</li>
			</ul>
		</div>
		
		<div class="login">
			<form>
				<input class="username text" type="text" placeholder="Username" />
				<input class="password text" type="text" placeholder="Password" />
				<input class="type text" type="text" placeholder="Discover Card" />
				<input class="submit cta" type="submit" value="Login to Account" />
			</form>
		</div>
		
		<footer>
			<div class="left-links">
				<a href="#0">Site Map</a>
				<a href="#0">Terms of Use</a>
				<a href="#0">Security Center</a>
				<a href="#0">Privacy</a>
				<a href="#0">Contact Us</a>
			</div>
			<div class="right-links">
				<a href="#0">Customer Service</a>
				<a href="#0">Community</a>
			</div>
		</footer>

	</div>
	
	<script src="js/jquery-1.11.1.min.js"></script>
	<script src="js/TweenMax.min.js"></script>
	<script src="js/ScrollToPlugin.min.js"></script>
	<script src="js/TextPlugin.min.js"></script>
	<script src="js/enquire.min.js"></script>
	<script src="js/WallopSlider.js"></script>
	<script src="js/hammer.min.js"></script>
	
	<script>
		
	jQuery(function($) {
		
		var menu = $(".menu-link");
		
//		Remove Menu Class - Global Function
		
		function menuRemoveActive() {
			menu.removeClass('active');
		}
		
		function closeMenu() {
			if (menu.hasClass('active')) {
				TweenMax.fromTo($('.links'), .5, {autoAlpha:1, display:"block"}, {autoAlpha:0, display:"none", onComplete:menuRemoveActive});
			}
		}
		
// 		Register enquire for responsive classes and functions

		enquire.register("(max-width : 640px)", {
		    match : function() {
		        $('html').addClass('mobile').removeClass('desktop');
		        TweenMax.to($('.links'), 0, {autoAlpha:0, display:"none", onComplete:menuRemoveActive});
		    },  
		    unmatch : function() {
		        $('html').addClass('desktop').removeClass('mobile');
		        TweenMax.to($('.links'), 0, {autoAlpha:1, display:"block"});
		    }
		});
		
// 		Create new instance of WallopSlider

		var discSlider = new WallopSlider('.slider', {
			wSBtnPreviousClass: 'slider-btn-previous',
			wSBtnNextClass: 'slider-btn-next',
			wSItemClass: 'slider-item',
			wSCurrentItemClass: 'slider-item-current',
			wSShowPreviousClass: 'slider-item-show-previous',
			wSShowNextClass: 'slider-item-show-next',
			wSHidePreviousClass: 'slider-item-hide-previous',
			wSHideNextClass: 'slider-item-hide-next',
			wsCarousel: true
	    });
//	    Update the slider nav when clicked or touched
	    $(document).on('touchend, click', '.slider-link', function(){ 
	    	var linkNumber = $(this).index() + 1;
	        discSlider.goTo(linkNumber);
	        
	        if (!$(this).hasClass('active')) {
	        	$(this).addClass('active').siblings('.active').removeClass('active');
	        }   
	    });
//	    Animate Slider and Slider Nav when the slide state changes

	    discSlider.on('change', function (event) {	            
	        var slideNumber = event.detail.currentItemIndex + 1;
	        
	        $('.slider-link-' + slideNumber).addClass('active').siblings('.active').removeClass('active');
						
						
			TweenMax.fromTo($('.slider-item-hide-previous .image, .slider-item-hide-previous .headline'), .5, {autoAlpha:1, x:0}, {x:-100, autoAlpha:0});
			
			TweenMax.fromTo($('.slider-item-show-next .background'), 1, {scale:1.25}, {scale:1, delay:.35});
		
			TweenMax.fromTo($('.slider-item-show-next .background'), 1, {autoAlpha:0, immediateRender:true}, {autoAlpha:1, delay:.35});
						
			TweenMax.fromTo($('.slider-item-show-next .image, .slider-item-show-next .headline '), .5, {autoAlpha:0, x:100}, {x:0, autoAlpha:1, delay:.5});
			
			
			TweenMax.fromTo($('.slider-item-hide-next .headline, .slider-item-hide-next .image'), .5, {autoAlpha:1, x:0}, {x:100, autoAlpha:0});
			
			TweenMax.fromTo($('.slider-item-hide-next .background'), 1, {autoAlpha:1}, {autoAlpha:0, delay:.35});
			
			TweenMax.fromTo($('.slider-item-show-previous .background-media'), 1, {scale:1.25}, {scale:1, delay:.35});
			
			TweenMax.fromTo($('.slider-item-show-previous .background'), 1, {autoAlpha:0, immediateRender:true}, {autoAlpha:1, delay:.35});
			
			TweenMax.fromTo($('.slider-item-show-previous .headline, .slider-item-show-previous .image'), .5, {autoAlpha:0, x:-100}, {x:0, autoAlpha:1, delay:.5});
				        
	    });
	    
//	    Video for overlays
		var vid2 = document.getElementById('vid-2');
		$(vid2).prop('muted',true); // mute video
	    vid2.pause();
	    
	    $(".main-1").hover(
	      function() {
	        vid2.play();
	      }, function() {
	        vid2.pause();
	      }
	    );
	    
//	    Animate the Nav Overlay Function
			
		$(document).on('touchend, click', '.links > div', function(){
			var index = $(this).index();
			var overlay = $('.nav-overlays').children(':eq(' + index + ')');
						
			CSSPlugin.defaultTransformPerspective = 200;
			
			function overlayOut() {
				TweenMax.to($('.nav-overlays > div.active'), .25, {autoAlpha:0, onComplete:addClass});
			}
			function overlayIn() {
				TweenMax.fromTo($('.nav-overlays > div.active'), .35, {autoAlpha:0}, {autoAlpha:1});
				TweenMax.staggerFromTo($('.nav-overlays > div > div > div'), .5, {autoAlpha:1, y:"400px", ease:Power4.easeInOut, delay:.05}, {autoAlpha:1, y:"0"}, .05);
			}
			
			if (!$(this).hasClass('active')) {
				$(this).addClass('active').siblings('.active').removeClass('active');
				overlayOut();
			}
			function addClass(){
				overlay.addClass('active').siblings('.active').removeClass('active');
				overlayIn();
			}
			
			closeMenu();
						
			$('.nav-overlays').addClass('active');
						
		});
		
//		Remove all overlays and menus on Logo click
		
		$(document).on('touchend, click', '.main-nav .logo', function(){
			
			overlayOut();
				
			closeMenu();
							
			function overlayOut() {
				TweenMax.to($('.nav-overlays > div.active'), .35, {autoAlpha:0, onComplete:removeClass});
			}
			
			function removeClass() {
				$('.nav-overlays, .nav-overlays > div, .links > div').removeClass('active');
			}
									
		});
		
		
//		Animate the Login Screen

		$(document).on('touchend, click', '.login-button', function(){
		
			TweenLite.defaultEase = Power2.easeOut;
		
			TweenMax.fromTo($('.slider-item-current .headline, .slider-item-current .headline, .slider-item-current .image, .login-button, .desktop .slider-nav, .slider-btn'), .5, {autoAlpha:1, display:"block", y:0}, {autoAlpha:0, display:"none", y:0});
		
			TweenMax.fromTo($('.login form'), 1, {autoAlpha:0, display:"none", y:100}, {autoAlpha:1, display:"block", y:0, delay:.5});
			
			TweenMax.fromTo($('.login-button-cancel, .login'), .5, {autoAlpha:0, display:"none"}, {autoAlpha:1, display:"block", delay:.5});
			
		});
	    
	    $(document).on('touchend, click', '.login-button-cancel', function(){
	    
	    	TweenMax.fromTo($('.slider-item-current .headline, .slider-item-current .headline, .slider-item-current .image, .login-button, .desktop .slider-nav, .slider-btn'), .5, {autoAlpha:0, display:"none", y:0}, {autoAlpha:1, display:"block", y:0, delay:.5, clearProps:"all"});
	    
	    	TweenMax.fromTo($('.login form'), 1, {autoAlpha:1, display:"block", y:0}, {autoAlpha:0, display:"none", y:100});
	    	
	    	TweenMax.fromTo($('.login, .login-button-cancel'), .5 , {autoAlpha:1, display:"block"}, {autoAlpha:0, display:"none"});
	    	
	    });
	    
//		Animate the Mobile Menu
		
		function closeMenu() {
			if (menu.hasClass('active')) {
				TweenMax.fromTo($('.links'), .5, {autoAlpha:1, display:"block"}, {autoAlpha:0, display:"none", onComplete:menuRemoveActive});
			}
		}

		$(document).on('touchend, click', '.menu-link', function(){		
			
			if (!$(this).hasClass('active')) {
				TweenMax.fromTo($('.links'), .5, {autoAlpha:0, display:"none"}, {autoAlpha:1, display:"block"});
				TweenMax.staggerFromTo($('.links > div'), .5, {top:"+=200px"}, {top:"-=200px"}, .1);
			}
			
			$(this).addClass('active');
			
		});
		
		$(document).on('touchend, click', '.menu-link.active', function(){
			closeMenu();
		});
		
		
//		Touch Controls
//		var swipeable = document.getElementById('container');
//		
//		var mc = new Hammer(swipeable);
//		
//		mc.on("swipeleft", function(ev) {
//		    $("button.btn-next").click("button.btn-next")
//		});
//		
//		mc.on("swiperight", function(ev) {
//		    $("button.btn.previous").click("button.btn-previous")
//		});

		var element = document.querySelector('.slider');
		Hammer(element).on('swipe', function() {
		  console.log('swipe -> ', arguments);
		});
	    
	});
    
	</script>

</body>
</html>
