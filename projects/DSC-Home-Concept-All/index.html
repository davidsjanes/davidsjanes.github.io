<!DOCTYPE html>
<!--[if lt IE 7]>      
<html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         
<html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         
<html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Discover</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="js/modernizr-2.6.2.min.js"></script>
</head>

<body>

<div id="page" class="homepage">
	<nav>
		<div class="main-nav">
			<div class="flex clear">
				<h1 class="logo">Discover</h1>
				<div class="links">
					<div class="card">
						<h2>Credit Cards</h2>
					</div>
					<div class="banking">
						<h2>Banking</h2>
					</div>
					<div class="loans">
						<h2>Loans</h2>
					</div>
					<div class="login">
						<h2><span class="icon">&#128100;</span></h2>
					</div>
				</div>
				<input type="text" class="search" placeholder="Search" />
				<a class="icon search-icon" href="#">&#128269;</a>
			</div>
		</div>
	</nav>
	<section id="hero" class="hero">
		<div class="content">
			<div class="media content-1 active">
				<video id="vid-1" class="content-1-vid" autoplay loop>
					<source src="video/coffeeshop-it-card-2.mp4" type="video/mp4">
				</video>
			</div>
			<div class="media content-2"></div>
			<div class="media content-3">
			</div>
			<div class="media content-4"></div>
			<div class="media content-5"></div>
			<div class="media content-6">
				<img class="puck animated" src="images/puck-2.png" />
			</div>
			<div class="copy">
				<div class="headline content-1">
					<div class="flex clear">
						<div class="logo">Discover</div>
						<h3>Discover <span>it</span> Card</h3>
						<p>Rewards that just keep adding up.</p>
						<a href="#" class="cta">Sign Up Now</a>
					</div>
				</div>
				<div class="hero-links">
					<a class="card content-1 active" href="#">Card</a>
					<a class="checking content-2" href="#">Checking</a>
					<a class="banking content-3" href="#">Banking</a>
					<a class="loans content-4" href="#">Loans</a>
					<a class="deals content-5" href="#">Deals</a>
					<a class="feature content-6" href="#">Feature</a>
				</div>
			</div>
		</div>
	</section>

	<section id="sub-content" class="sub-content">
		<div class="flex clear">
			<div class="sub-content-1">
				<h3>5<sup>%</sup> Cashback Bonus</h3>
				<img src="images/sub-content-1.jpg" />
				<h4>Gas Stations</h4>
				<p>Sign up now to get 5% Cashback Bonus at Gas Stations on up to $1,500 in purchases, now through September 2014.*</p>
				<a class="cta">Sign Up Now</a>
			</div>
			<div class="sub-content-2">
				<h3>Get a $50 Bonus</h3>
				<img src="images/sub-content-2.jpg" />
				<h4>Cashback Checking</h4>
				<p>When you apply for and open a FREE checking account by 10/31/14. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/><br/></p>
				<a class="cta">Learn More</a>
			</div>
			<div class="sub-content-3">
				<h3>Simple &amp; Rewarding</h3>
				<img src="images/sub-content-3.jpg" />
				<h4>Discover Home Loans</h4>
				<p>Get financing without the fuss with Discover. We're here to make getting a loan clear and simple.<br/><br/></p>
				<a class="cta">Learn More</a>
			</div>
		</div>
	</section>
	<section id="shop" class="shop">
		<div class="flex clear">
			<h3>Shop Discover Deals</h3>
			<div class="retailers">
				<img src="images/deals-list.png" />
			</div>
		</div>
	</section>
	
	<section id="footer" class="footer">
		<img src="images/footer.jpg" />
	</section>
	
	<section class="nav-overlays">
		<div class="card">
			<div class="feature">
				<div class="header">
					<video id="vid-2" class="card-2-vid" autoplay loop>
						<source src="video/card-vid-3.mp4" type="video/mp4">
					</video>
					<!--<img class="card-image" src="images/it-card-blue.jpg" />-->
				</div>
				<div class="copy">
					<h3>Discover It Card</h3>
					<p>Etiam imperdiet velit cursus orci efficitur, vitae euismod dolor maximus. Phasellus sodales sem ac diam molestie, vitae porta sapien viverra.</p>
					<div class="rating">
						<img class="rating" src="images/ratingLarge.png" />
						<p class="rating">4.8 out of 5
	<!--						<a href="#">6,000 Reviews</a>-->
						</p>
					</div>
					<a class="cta">Apply Now</a>
				</div>
			</div>
			<div class="secondary">
				<div class="secondary-1">
					<div class="header">
						<h3>Discover It for Students</h3>
						<a class="cta-small">Learn More</a>
					</div>
					<img src="images/card-art-skyline.png" />
				</div>
				<div class="secondary-2">
					<div class="header">
						<h3>5% Cashback Bonus</h3>
						<a class="cta-small">Sign Up Now</a>
					</div>
				</div>
			</div>
			<div class="tertiary">
				<div>
					<h4>Discover Deals</h4>
					<p>Shop, save and earn rewards with popular brands.</p>
					<a class="cta-link">Shop Now</a>
				</div>
				<div>
					<h4>Card Benefits</h4>
					<p>Discover give you protection on top of the rewards you earn with every purchase.</p>
					<a class="cta-link">Get the Rundown</a>
				</div>
				<div>
					<h4>Balance Transfer</h4>
					<p>Balance Transfers are easy and can save you money.</p>
					<a class="cta-link">Learn More</a>
				</div>
			</div>
		</div>
		<div class="banking"></div>
		<div class="loans"></div>
		<div class="login">
		</div>
	</section>
	
</div>            

<script src="js/jquery-1.11.1.min.js"></script>
<script src="js/covervid.min.js"></script>
<script src="js/TweenMax.min.js"></script>
<script src="js/ScrollToPlugin.min.js"></script>
<script src="js/TextPlugin.min.js"></script>

<script>
	$(document).ready(function() {
		
		$('.content-1-vid').coverVid(700, 480);
		$('.card-2-vid').coverVid(853, 480);
		var vid1 = document.getElementById('vid-1');
		var vid2 = document.getElementById('vid-2');
		
		vid2.pause(); // pause video
		$(vid2).prop('muted',true); // mute video
		
		$("#vid-2").click(function() {
			$(vid2).prop('muted',false);
		});
		
		$(".hero-links a").click(function() {
			$(this).addClass('active').siblings().removeClass('active');
			vid1.pause();
		});
		$(".hero-links .content-1").click(function() {
			$('.media.content-1').addClass('active').siblings().removeClass('active');
			TweenMax.to($('.headline h3'), .5, {text:"Discover <span>it</span> Card", ease:Linear.easeNone});
			TweenMax.to($('.headline p'), .5, {text:"Rewards that just keep adding up.", ease:Linear.easeNone});
			TweenMax.to($('.headline a'), .5, {text:"Apply Now", ease:Linear.easeNone});
			TweenMax.to($('.headline'), .5, {backgroundColor:"rgba(40,90,120, .8)"});
			vid1.play();
		});
		$(".hero-links .content-2").click(function() {
			$('.media.content-2').addClass('active').siblings().removeClass('active');
			TweenMax.to($('.headline h3'), .5, {text:"Cashback Checking", ease:Linear.easeNone});
			TweenMax.to($('.headline p'), .5, {text:"Free checking reinvented with <em>Cashback</em> bonuses.", ease:Linear.easeNone});
			TweenMax.to($('.headline a'), .5, {text:"Sign Up Now", ease:Linear.easeNone});
			TweenMax.to($('.headline'), .5, {backgroundColor:"rgba(154,61,6, .8)"});
		});
		$(".hero-links .content-3").click(function() {
			$('.media.content-3').addClass('active').siblings().removeClass('active');
			TweenMax.to($('.headline h3'), .5, {text:"Discover Banking", ease:Linear.easeNone});
			TweenMax.to($('.headline p'), .5, {text:"Bank with ease anytime, anywhere.", ease:Linear.easeNone});
			TweenMax.to($('.headline a'), .5, {text:"Learn More", ease:Linear.easeNone});
			TweenMax.to($('.headline'), .5, {backgroundColor:"rgba(65,175,160, .8)"});
		});
		$(".hero-links .content-4").click(function() {
			$('.media.content-4').addClass('active').siblings().removeClass('active');
			TweenMax.to($('.headline h3'), .5, {text:"Student Loans", ease:Linear.easeNone});
			TweenMax.to($('.headline p'), .5, {text:"Not all student loans are created equal.", ease:Linear.easeNone});
			TweenMax.to($('.headline a'), .5, {text:"Learn More", ease:Linear.easeNone});
			TweenMax.to($('.headline'), .5, {backgroundColor:"rgba(5,24,34, .8)"});
		});
		$(".hero-links .content-5").click(function() {
			$('.media.content-5').addClass('active').siblings().removeClass('active');
			TweenMax.to($('.headline h3'), .5, {text:"Discover Deals", ease:Linear.easeNone});
			TweenMax.to($('.headline p'), .5, {text:"Earn up to 15% <em>Cashback</em> on popular retailers.", ease:Linear.easeNone});
			TweenMax.to($('.headline a'), .5, {text:"Start Shopping", ease:Linear.easeNone});
			TweenMax.to($('.headline'), .5, {backgroundColor:"rgba(171,36,49, .8)"});
		});
		$(".hero-links .content-6").click(function() {
			$('.media.content-6').addClass('active').siblings().removeClass('active');
			TweenMax.to($('.headline h3'), .5, {text:"Card Freeze", ease:Linear.easeNone});
			TweenMax.to($('.headline p'), .5, {text:"Freeze your card at any time to avoid fraudulant spending.", ease:Linear.easeNone});
			TweenMax.to($('.headline a'), .5, {text:"Learn More", ease:Linear.easeNone});
			TweenMax.to($('.headline'), .5, {backgroundColor:"rgba(71,92,104, .8)"});
			
			TweenMax.fromTo($('.media.content-6'), 3, {backgroundPosition:'bottom'}, {backgroundPosition:'top'});
			TweenMax.fromTo($('.media.content-6 .puck'), 3.5, {top:"35rem", rotation:"0"}, {top:"-35rem", rotation:"360_cw", delay:1.5, ease:Power1.easeOut});
		});
		
		$(document).on('touchend, click', '.links > div', function(){
			var index = $(this).index();
			var overlay = $('.nav-overlays').children(':eq(' + index + ')');
			
			$('body').addClass('scroll');
			
			CSSPlugin.defaultTransformPerspective = 200;
			
			function overlayOut() {
				TweenMax.to($('.nav-overlays > div.active'), .35, {autoAlpha:0, onComplete:addClass});
			}
			function overlayIn() {
				TweenMax.fromTo($('.nav-overlays > div.active'), .35, {autoAlpha:0, top:"-100%", scale:1, transformOrigin:"bottom center"}, {autoAlpha:1, top:"0%", scale:1, ease:Power0.easeNone});
			}
			
			if (!$(this).hasClass('active')) {
				$(this).addClass('active').siblings('.active').removeClass('active');
				overlayOut();
			}
			function addClass(){
				overlay.addClass('active').siblings('.active').removeClass('active');
				overlayIn();
			}
			
			if (index === 0) {
				vid2.play();
			}
			else {
				vid2.pause();
			}
			
			$('.nav-overlays').addClass('active');
						
		});
		
		$(document).on('touchend, click', '.main-nav .logo', function(){
			
			overlayOut();
			
			function overlayOut() {
				TweenMax.to($('.nav-overlays > div.active'), .35, {autoAlpha:0, onComplete:removeClass});
			}
			
			function removeClass() {
				$('.nav-overlays, .nav-overlays > div, .links > div').removeClass('active');
			}
			
			$('body').removeClass('scroll');
		});
		
	});
</script>

</body>
</html>
