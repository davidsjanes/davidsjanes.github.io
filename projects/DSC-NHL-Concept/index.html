<!doctype html>
<html lang="en" class="desktop">
<head>
	<meta charset="UTF-8">
	<title>NHL Affinity Card</title>
	
	<meta name="viewport" content="initial-scale=1, user-scalable=no">
	<link rel="stylesheet" href="css/normalize.css">
	<link rel="stylesheet" href="css/style.css">
	<script src="js/modernizr-2.6.2.min.js"></script>
</head>

<body>

	<div id="container" class="nhl">
	
		<nav class="main-nav">
			<h1 class="logo">Discover</h1>
			
			<div class="links">
				<div class="card-link">
					<h2>Credit Cards</h2>
				</div>
				<div class="banking-link">
					<h2>Banking</h2>
				</div>
				<div class="loans-link">
					<h2>Loans</h2>
				</div>
				<div class="login-link">
					<h2><span class="icon">&#128274;</span>Log In</h2>
				</div>
				<div class="search-link">
					<h2><span class="icon">&#128269;</span>Search</h2>
				</div>
			</div>
		</nav>
		
		<section class="hero" data-ibg-bg="images/hockey-bg-3.jpg">
			
			<div class="headline">
				<span>NHL Discover it Card</span>
				<img class="nhl-logo" src="images/nhl-logo.svg" alt="nhl logo" />
				<h3 class="team-name">National Hockey League</h3>
				<a class="select-team cta">Select Team</a>
			</div>
			
			<div id="card" class="active">
				<div class="scene">
					<div class="shape cuboid-1 card">
						<div class="face ft"></div>
						<div class="face bk">

						</div>
						<div class="face rt"></div>
						<div class="face lt"></div>
						<div class="face bm"></div>
						<div class="face tp">
							<div class="nhl"></div>
						</div>
						<div class="cr cr-0">
							<div class="face side s0"></div>
							<div class="face side s1"></div>
							<div class="face side s2"></div>
						</div>
						<div class="cr cr-1">
							<div class="face side s0"></div>
							<div class="face side s1"></div>
							<div class="face side s2"></div>
						</div>
						<div class="cr cr-2">
							<div class="face side s0"></div>
							<div class="face side s1"></div>
							<div class="face side s2"></div>
						</div>
						<div class="cr cr-3">
							<div class="face side s0"></div>
							<div class="face side s1"></div>
							<div class="face side s2"></div>
						</div>
					</div>
				</div>
			</div>
			
		</section>
		
		<section id="teams" class="overlay">
			<a class="close cta">Close</a>
			<div class="headline">
				<h3>Select your favorite team</h3>
			</div>
			<div class="teams">
				<div>
					<a href="#0" data-id="30"><img alt="Colorado Avalanche" src="images/cards/nhl-30.png" /><h4>Colorado Avalanche</h4></a>
				</div>
				<div>
					<a href="#0" data-id="29"><img alt="Chicago Blackhawks" src="images/cards/nhl-29.png" /><h4>Chicago Blackhawks</h4></a>
				</div>
				<div>
					<a href="#0" data-id="28"><img alt="St. Louis Blues" src="images/cards/nhl-28.png" /><h4>St. Louis Blues</h4></a>
				</div>
				<div>
					<a href="#0" data-id="27"><img alt="Boston Bruins" src="images/cards/nhl-27.png" /><h4>Boston Bruins</h4></a>
				</div>
				<div>
					<a href="#0" data-id="26"><img alt="Montreal Canadiens" src="images/cards/nhl-26.png" /><h4>Montreal Canadiens</h4></a>
				</div>
				<div>
					<a href="#0" data-id="25"><img alt="Vancouver Canucks" src="images/cards/nhl-25.png" /><h4>Vancouver Canucks</h4></a>
				</div>
				<div>
					<a href="#0" data-id="24"><img alt="Washington Capitals" src="images/cards/nhl-24.png" /><h4>Washington Capitals</h4></a>
				</div>
				<div>
					<a href="#0" data-id="23"><img alt="Arizona Coyotes" src="images/cards/nhl-23.png" /><h4>Arizona Coyotes</h4></a>
				</div>
				<div>
					<a href="#0" data-id="22"><img alt="New Jersey Devils" src="images/cards/nhl-22.png" /><h4>New Jersey Devils</h4></a>
				</div>
				<div>
					<a href="#0" data-id="21"><img alt="Anaheim Ducks" src="images/cards/nhl-21.png" /><h4>Anaheim Ducks</h4></a>
				</div>
				<div>
					<a href="#0" data-id="20"><img alt="Calgary Flames" src="images/cards/nhl-20.png" /><h4>Calgary Flames</h4></a>
				</div>
				<div>
					<a href="#0" data-id="19"><img alt="Philadelphia Flyers" src="images/cards/nhl-19.png" /><h4>Philadelphia Flyers</h4></a>
				</div>
				<div>
					<a href="#0" data-id="18"><img alt="Carolina Hurricanes" src="images/cards/nhl-18.png" /><h4>Carolina Hurricanes</h4></a>
				</div>
				<div>
					<a href="#0" data-id="17"><img alt="New York Islanders" src="images/cards/nhl-17.png" /><h4>New York Islanders</h4></a>
				</div>
				<div>
					<a href="#0" data-id="16"><img alt="Winnipeg Jets" src="images/cards/nhl-16.png" /><h4>Winnipeg Jets</h4></a>
				</div>
				<div>
					<a href="#0" data-id="15"><img alt="Los Angeles Kings" src="images/cards/nhl-15.png" /><h4>Los Angeles Kings</h4></a>
				</div>
				<div>
					<a href="#0" data-id="14"><img alt="Tampa Bay Lightning" src="images/cards/nhl-14.png" /><h4>Tampa Bay Lightning</h4></a>
				</div>
				<div>
					<a href="#0" data-id="13"><img alt="Toronto Maple Leafs" src="images/cards/nhl-13.png" /><h4>Toronto Maple Leafs</h4></a>
				</div>
				<div>
					<a href="#0" data-id="12"><img alt="Edmonton Oilers" src="images/cards/nhl-12.png" /><h4>Edmonton Oilers</h4></a>
				</div>
				<div>
					<a href="#0" data-id="11"><img alt="Florida Panthers" src="images/cards/nhl-11.png" /><h4>Florida Panthers</h4></a>
				</div>
				<div>
					<a href="#0" data-id="10"><img alt="Pittsburgh Penguins" src="images/cards/nhl-10.png" /><h4>Pittsburgh Penguins</h4></a>
				</div>
				<div>
					<a href="#0" data-id="09"><img alt="Nashville Predators" src="images/cards/nhl-09.png" /><h4>Nashville Predators</h4></a>
				</div>
				<div>
					<a href="#0" data-id="08"><img alt="New York Rangers" src="images/cards/nhl-08.png" /><h4>New York Rangers</h4></a>
				</div>
				<div>
					<a href="#0" data-id="07"><img alt="Detroit Redwings" src="images/cards/nhl-07.png" /><h4>Detroit Redwings</h4></a>
				</div>
				<div>
					<a href="#0" data-id="06"><img alt="Buffalo Sabres" src="images/cards/nhl-06.png" /><h4>Buffalo Sabres</h4></a>
				</div>
				<div>
					<a href="#0" data-id="05"><img alt="Ottawa Senators" src="images/cards/nhl-05.png" /><h4>Ottawa Senators</h4></a>
				</div>
				<div>
					<a href="#0" data-id="04"><img alt="San Jose Sharks" src="images/cards/nhl-04.png" /><h4>San Jose Sharks</h4></a>
				</div>
				<div>
					<a href="#0" data-id="02"><img alt="Dallas Stars" src="images/cards/nhl-02.png" /><h4>Dallas Stars</h4></a>
				</div>
				<div>
					<a href="#0" data-id="01"><img alt="Minnesota Wild" src="images/cards/nhl-01.png" /><h4>Minnesota Wild</h4></a>
				</div>
				<div>
					<a href="#0" data-id="00"><img alt="Columbus Blue Jackets" src="images/cards/nhl-00.png" /><h4>Columbus Blue Jackets</h4></a>
				</div>
				<div>
					<a href="#0" data-id="03"><img alt="National Hockey League" src="images/cards/nhl-03.png" /><h4>National Hockey League</h4></a>
				</div>
			</div>
		</section>
		<section class="logos">
<!--			<div class="main-logo">
				<a href="#0" data-id="03"><img alt="National Hockey League" src="images/logos/nhl-03.jpg" /></a>
			</div>-->
			<div class="container">
				<div>
					<a href="#0" data-id="30"><img alt="Colorado Avalanche" src="images/logos/nhl-30.jpg" /></a>
				</div>
				<div>
					<a href="#0" data-id="29"><img alt="Chicago Blackhawks" src="images/logos/nhl-29.jpg" /></a>
				</div>
				<div>
					<a href="#0" data-id="28"><img alt="St. Louis Blues" src="images/logos/nhl-28.jpg" /></a>
				</div>
				<div>
					<a href="#0" data-id="27"><img alt="Boston Bruins" src="images/logos/nhl-27.jpg" /></a>
				</div>
				<div>
					<a href="#0" data-id="26"><img alt="Montreal Canadiens" src="images/logos/nhl-26.jpg" /></a>
				</div>
				<div>
					<a href="#0" data-id="25"><img alt="Vancouver Canucks" src="images/logos/nhl-25.jpg" /></a>
				</div>
				<div>
					<a href="#0" data-id="24"><img alt="Washington Capitals" src="images/logos/nhl-24.jpg" /></a>
				</div>
				<div>
					<a href="#0" data-id="23"><img alt="Arizona Coyotes" src="images/logos/nhl-23.jpg" /></a>
				</div>
				<div>
					<a href="#0" data-id="22"><img alt="New Jersey Devils" src="images/logos/nhl-22.jpg" /></a>
				</div>
				<div>
					<a href="#0" data-id="21"><img alt="Anaheim Ducks" src="images/logos/nhl-21.jpg" /></a>
				</div>
				<div>
					<a href="#0" data-id="20"><img alt="Calgary Flames" src="images/logos/nhl-20.jpg" /></a>
				</div>
				<div>
					<a href="#0" data-id="19"><img alt="Philadelphia Flyers" src="images/logos/nhl-19.jpg" /></a>
				</div>
				<div>
					<a href="#0" data-id="18"><img alt="Carolina Hurricanes" src="images/logos/nhl-18.jpg" /></a>
				</div>
				<div>
					<a href="#0" data-id="17"><img alt="New York Islanders" src="images/logos/nhl-17.jpg" /></a>
				</div>
				<div>
					<a href="#0" data-id="16"><img alt="Winnipeg Jets" src="images/logos/nhl-16.jpg" /></a>
				</div>
				<div>
					<a href="#0" data-id="15"><img alt="Los Angeles Kings" src="images/logos/nhl-15.jpg" /></a>
				</div>
				<div>
					<a href="#0" data-id="14"><img alt="Tampa Bay Lightning" src="images/logos/nhl-14.jpg" /></a>
				</div>
				<div>
					<a href="#0" data-id="13"><img alt="Toronto Maple Leafs" src="images/logos/nhl-13.jpg" /></a>
				</div>
				<div>
					<a href="#0" data-id="12"><img alt="Edmonton Oilers" src="images/logos/nhl-12.jpg" /></a>
				</div>
				<div>
					<a href="#0" data-id="11"><img alt="Florida Panthers" src="images/logos/nhl-11.jpg" /></a>
				</div>
				<div>
					<a href="#0" data-id="10"><img alt="Pittsburgh Penguins" src="images/logos/nhl-10.jpg" /></a>
				</div>
				<div>
					<a href="#0" data-id="09"><img alt="Nashville Predators" src="images/logos/nhl-09.jpg" /></a>
				</div>
				<div>
					<a href="#0" data-id="08"><img alt="New York Rangers" src="images/logos/nhl-08.jpg" /></a>
				</div>
				<div>
					<a href="#0" data-id="07"><img alt="Detroit Redwings" src="images/logos/nhl-07.jpg" /></a>
				</div>
				<div>
					<a href="#0" data-id="06"><img alt="Buffalo Sabres" src="images/logos/nhl-06.jpg" /></a>
				</div>
				<div>
					<a href="#0" data-id="05"><img alt="Ottawa Senators" src="images/logos/nhl-05.jpg" /></a>
				</div>
				<div>
					<a href="#0" data-id="04"><img alt="San Jose Sharks" src="images/logos/nhl-04.jpg" /></a>
				</div>
<!--				<div>
					<a href="#0" data-id="03"><img alt="National Hockey League" src="images/logos/nhl-03.jpg" /></a>
				</div>-->
				<div>
					<a href="#0" data-id="02"><img alt="Dallas Stars" src="images/logos/nhl-02.jpg" /></a>
				</div>
				<div>
					<a href="#0" data-id="01"><img alt="Minnesota Wild" src="images/logos/nhl-01.jpg" /></a>
				</div>
				<div>
					<a href="#0" data-id="00"><img alt="Columbus Blue Jackets" src="images/logos/nhl-00.jpg" /></a>
				</div>
			</div>
		</section>
	</div>
	
	<script src="js/jquery-1.11.1.min.js"></script>
	<script src="js/TweenMax.min.js"></script>
	<script src="js/jquery.interactive_bg.min.js"></script>
	
	<script>
		
	jQuery(function($) {
		
//		INTERACTIVE BG

		$(".hero").interactive_bg({
		   strength: 12,
		   scale: 1.02,
		   animationSpeed: "250ms",
		   contain: true,
		   wrapContent: false
		 });

		// change background size on window resize
		$(window).resize(function() {
		   $(".hero > .ibg-bg").css({
		     width: $(window).outerWidth(),
		     height: "34rem"
		   })
		})
		
//		SET DEFAULT EASE TO LINEAR

		TweenLite.defaultEase = Power0.easeOut;
		
		var card = $(".scene"),
			cardFront = $(".card .tp > div"),
			teamLinks = $('.teams a'),
			logoLinks = $('.logos a')
		;
		
		$(document).on("mousemove", function(e) {
			if ($('#card').hasClass('active')) {
		  		var ax = -($(window).innerWidth()/2- e.pageX)/20;
		  		var ay = ($(window).innerHeight()/2- e.pageY)/10 - 90;
		  		card.attr("style", "transform: rotateY("+ax+"deg) rotateX("+ay+"deg);-webkit-transform: rotateY("+ax+"deg) rotateX("+ay+"deg);-moz-transform: rotateY("+ax+"deg) rotateX("+ay+"deg)");
		  	}
		});
		
		var cardTL = new TimelineMax({paused:true});
		var cardRevTL = new TimelineMax({paused:true, onComplete:cardClass});
		
		cardTL.to($('.scene'), .5, {rotationY:-180, y:-25}, 0)
			  .to($('#card'), .5, {scale:"3.5"}, 0)
			  .fromTo($('.overlay'), .5, {autoAlpha:0, display:"none"}, {autoAlpha:1, display:"block"})
			  .staggerFrom($('.teams a'), .5, {autoAlpha:0, top:"5rem"}, .02, .35)
			  ;
		
		cardRevTL.to($('.overlay'), .5, {autoAlpha:0, display:"none"},0)
				 .to($('.scene'),.5, {rotationY:"0", y:0}, 0)
				 .to($('#card'),.5, {scale:"1"}, 0)
			  ;
		
		$('.select-team.cta').on("click", function() {
			TweenMax.set($(".scene"), {clearProps:"all"});
			$('#card').removeClass('active');
			cardTL.restart();
		});
		
		$('.close.cta').on("click", function() {
			cardRevTL.restart();
		});
		
		function cardClass() {
			$('#card').addClass('active');
		}
		
		teamLinks.on("click", function() {
			var teamName = $(this).children('img').attr('alt');
			var teamId = $(this).attr('data-id');
									
			cardRevTL.restart();
			$(".team-name").text(teamName); 
			cardFront.css("background-image", "url(images/cards/nhl-" + teamId + ".png)");
		});
		
		
		logoLinks.on("click", function() {
			var logoName = $(this).children('img').attr('alt');
			var logoId = $(this).attr('data-id');
			
			TweenMax.set($(".scene"), {clearProps:"all"});
			$('#card').removeClass('active');
			
			var cardFlipTL = new TimelineMax({paused:true, onComplete:cardClass});
			
			cardFlipTL.to($('.scene'), .5, {rotationY:"-=180deg", y:-25}, 0)
				  .to($('#card'), .5, {scale:"3.5", onComplete:setTeam}, 0)
				  .to($('.scene'),.5, {rotationY:"-=180deg", y:0}, .5)
				  .to($('#card'),.5, {scale:"1"}, .5)
				  ;
			
			cardFlipTL.restart();
			
			function setTeam() {
				$(".team-name").text(logoName); 
				cardFront.css("background-image", "url(images/cards/nhl-" + logoId + ".png)");
			}
			
		});
		
	});
    
	</script>

</body>
</html>
